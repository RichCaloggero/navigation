<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Collapsible List Demo</title>
<style>
nav ul {list-style-type: none;}
</style>
</head>
<body>
<h1>Details - web component implementation</h1>

<h2>Navigation as a tree</h2>
<nav>
<collapsible-list tree data-label="Fruits and Vegetables">
<collapsible-list data-label="fruits">
<collapsible-list data-label="mellons">
<li data-href="water mellons are juicy">watermellon</li>
<li data-href="honey due mellons are kind of gross">honey due mellon</li>

</collapsible-list><collapsible-list data-label="citrus">
<li>orange</li>
<li>grapefruit</li>
</collapsible-list>
<a href="apples are cool">apple</a>
<li data-href="grapes are sweet">grape</li>

</collapsible-list><collapsible-list data-label="vegetables">
<collapsible-list data-label="root vegetables">
<li data-action="crunchy and good with hummus">carot</li>
<li data-action="great with bacon">potato</li>
</collapsible-list><collapsible-list data-label="greens">
<li>lettuce</li>
<li>spinach</li>
</collapsible-list>
<li>broccoli</li>
</collapsible-list>
</collapsible-list></nav>

<hr>
<h2>As simple collapsible nested lists</h2>

<nav>
<collapsible-list data-label="toggle navigation" no-heading>
<collapsible-list data-label="fruits">
<collapsible-list data-label="mellons">
<li data-href="water mellons are juicy">watermellon</li>
<li data-href="honey due mellons are kind of gross">honey due mellon</li>

</collapsible-list><collapsible-list data-label="citrus">
<li>orange</li>
<li>grapefruit</li>
</collapsible-list>
<a href="apples are cool">apple</a>
<li data-href="grapes are sweet">grape</li>

</collapsible-list><collapsible-list data-label="vegetables">
<collapsible-list data-label="root vegetables">
<li data-action="crunchy and good with hummus">carot</li>
<li data-action="great with bacon">potato</li>
</collapsible-list><collapsible-list data-label="greens">
<li>lettuce</li>
<li>spinach</li>
</collapsible-list>
<li>broccoli</li>
</collapsible-list>
</collapsible-list></nav>


<script src="collapsible-list.js"></script>

<script>
Array.from(document.querySelectorAll("nav"))
.forEach(nav => nav.addEventListener("click", e => {
const element = e.target;
if (element.matches("summary, summary *")) return;
const value = element.getAttribute("href") || element.getAttribute("data-action") || null;
alert (`clicked ${element.tagName.toLowerCase()} -- ${value}.`);
e.preventDefault();


}));

</script>

</body>
</html>
